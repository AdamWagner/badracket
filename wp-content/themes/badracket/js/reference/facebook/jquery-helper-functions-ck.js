/* Facebook Specific */function call_facebook(e,t,n){n?url="http://graph.facebook.com/"+e+"?access_token="+n:url="http://graph.facebook.com/"+e;$.ajax({url:url,dataType:"jsonp",success:t})}function sign_in(e,t){location.href="https://graph.facebook.com/oauth/authorize?client_id="+e+"&redirect_uri="+t+"&scope=email";return!1}function get_access_token(e,t,n,r){$.ajax({url:"http://tom.puresolo/apis/facebook_access_token?client_id="+e+"&redirect_uri="+t+"&code="+n,dataType:"jsonp",success:r})}function get_account_details(e,t){call_facebook("me",t,e)}function show_application(e){$("#client_id_form").hide();call_facebook(e,show_application_name)}function show_application_name(e){$("#application_name").html(e.name+" ("+e.id+")");$("#your_application").show()}function show_client_id_form(){$("#your_application").hide();$("#client_id_form").show()}function save_access_token(e){$.cookie("access_token",e.access_token);get_account_details($.cookie("access_token"),show_account_details)}function show_account_details(e){alert("Hello "+e.name+" ("+e.email+")")}$(function(){$.cookie("client_id")&&show_application($.cookie("client_id"));jQuery.url.param("code")!=null&&get_access_token($.cookie("client_id"),"http://tom.jquery/",jQuery.url.param("code"),save_access_token);$("#save_client_id").click(function(){$.cookie("client_id",$("#client_id").attr("value"));show_application($.cookie("client_id"))});$("#change_client_id").click(function(){$.cookie("client_id",null);show_client_id_form();return!1});$("#sign_in").click(function(){sign_in($.cookie("client_id"),"http://tom.jquery/")})});