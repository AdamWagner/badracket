!function(a,b){"use strict";b.support.touch="ontouchstart"in window||window.DocumentTouch&&a instanceof DocumentTouch;var c=10,d=".__tap-helper",e="tap",f=0,g="clientX clientY screenX screenY pageX pageY".split(" "),h=function(){var a=function(a,b){void 0!==a&&this.init(a,b)},e=a.prototype;return e.init=function(a,b){return this.$target=a,this.selector=b.selector,this.data=b.data,this.namespace=d+f++,this.startX=0,this.startY=0,this.isTracking=!1,this.setupHandlers().reset().enable()},e.setupHandlers=function(){return this.onDown=b.proxy(this._onDown,this),this.onMove=b.proxy(this._onMove,this),this.onUp=b.proxy(this._onUp,this),this.onCancel=b.proxy(this._onCancel,this),this},e.enable=function(){return this.$target.on("mousedown"+this.namespace,this.selector,this.onDown),this},e.disable=function(){return this.$target.off("mousedown"+this.namespace,this.selector,this.onDown),this},e.reset=function(){return this.startX=0,this.startY=0,this.isTracking=!1,this},e.destroy=function(){return this.onCancel(),this.disable()},e.getCoordinates=function(a){return[a.clientX,a.clientY]},e._onDown=function(a){if(!this.isTracking){this.isTracking=!0;var b=this.getCoordinates(a);this.startX=b[0],this.startY=b[1],this.$target.on("mousemove"+this.namespace,this.onMove).on("click"+this.namespace,this.selector,this.onUp)}},e._onMove=function(a){var b=this.getCoordinates(a);(Math.abs(b[0]-this.startX)>c||Math.abs(b[1]-this.startY)>c)&&this.onCancel()},e._onUp=function(a){a.isTrigger||a.originalEvent.triggeredTap||(a.originalEvent.triggeredTap=!0,a.type="tap",a.data=this.data,this.$target.trigger(a)),this.onCancel()},e._onCancel=function(){this.reset(),this.$target.off("mousemove"+this.namespace,this.onMove).off("click"+this.namespace,this.selector,this.onUp)},a}(),i=function(a){var c=function(a,c){var d=0,f=g.length,h=a.originalEvent.changedTouches[0],i=b.Event(e,a);for(i.type=e,i.data=c;f>d;d++)i[g[d]]=h[g[d]];return i},d=function(a,b){void 0!==a&&this.init(a,b)},f=d.prototype=new a;f.constructor=d;var h=a.prototype;return f.init=function(a,b){return this.touchStartCount=0,h.init.call(this,a,b)},f.enable=function(){return this.$target.on("touchstart"+this.namespace,this.selector,this.onDown),this},f.disable=function(){return this.$target.off("touchstart"+this.namespace,this.selector,this.onDown),this},f.reset=function(){return this.touchStartCount=0,h.reset.call(this)},f.getCoordinates=function(a){return[a.originalEvent.touches[0].clientX,a.originalEvent.touches[0].clientY]},f._onDown=function(a){this.touchStartCount=a.originalEvent.touches.length,this.isTracking||(this.isTracking=!0,this.startX=a.originalEvent.touches[0].clientX,this.startY=a.originalEvent.touches[0].clientY,this.$target.on("touchmove"+this.namespace,this.selector,this.onMove).on("touchend"+this.namespace,this.selector,this.onUp).on("touchcancel"+this.namespace,this.selector,this.onCancel))},f._onUp=function(a){!this.touchStartCount||a.originalEvent.touches.length>0||this.touchStartCount>1||(a.originalEvent.triggeredTap||(a.originalEvent.triggeredTap=!0,this.$target.trigger(c(a,this.data))),this.onCancel())},f._onCancel=function(){this.reset(),this.$target.off("touchmove"+this.namespace,this.selector,this.onMove).off("touchend"+this.namespace,this.selector,this.onUp).off("touchcancel"+this.namespace,this.selector,this.onCancel)},d}(h);b.event.special[e]={add:function(a){var c=b.support.touch?i:h;a.tap=new c(b(this),a)},remove:function(a){a.tap&&a.tap.destroy&&a.tap.destroy()}}}(document,jQuery),badracket.bindMobileUI=function(){$(".menu").on("tap",function(){badracket.updatePageState("nav-state")}),$('nav[role="navigation"] a').on("tap",function(){s.body.attr("data-state","default-state")}),$(".info").on("tap",function(){badracket.updatePageState("info-state")}),s.doc.bind("pageinit",function(){$.event.special.swipe.verticalDistanceThreshold=40,$.event.special.swipe.horizontalDistanceThreshold=160,$.event.special.swipe.durationThreshold=300,s.body.bind("swipeleft",function(){badracket.updatePageState("info-state")}),s.body.bind("swiperight",function(){badracket.updatePageState("nav-state")})})};